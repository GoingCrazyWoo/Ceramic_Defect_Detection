% ORGANIZE_PROJECT - æ•´ç†é¡¹ç›®æ–‡æ¡£ç»“æ„
%
% ç”¨æ³•: organize_project()

function organize_project()
    fprintf('===== æ•´ç†é¡¹ç›®æ–‡æ¡£ =====\n\n');
    
    % 1. æ¸…ç†ä¸´æ—¶è„šæœ¬
    fprintf('1. æ¸…ç†ä¸´æ—¶è„šæœ¬...\n');
    tempScripts = {
        'quick_visualize.m', ...
        'test_circle_detection.m', ...
        'test_irregular_defects.m'
    };
    
    for i = 1:length(tempScripts)
        script = tempScripts{i};
        if exist(script, 'file')
            delete(script);
            fprintf('   âœ“ åˆ é™¤: %s\n', script);
        end
    end
    
    % 2. ç§»åŠ¨æ–‡æ¡£åˆ°docs/
    fprintf('\n2. ç§»åŠ¨æ–‡æ¡£åˆ°docs/...\n');
    
    % åˆ›å»ºdocsç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
    docsDir = fullfile('..', 'docs');
    if ~exist(docsDir, 'dir')
        mkdir(docsDir);
        fprintf('   åˆ›å»ºç›®å½•: docs/\n');
    end
    
    % ç§»åŠ¨ä¸»æ–‡æ¡£
    mainDocs = {
        'V3.0-R6_FINAL_GUIDE.md'
    };
    
    for i = 1:length(mainDocs)
        doc = mainDocs{i};
        if exist(doc, 'file')
            targetPath = fullfile(docsDir, doc);
            try
                movefile(doc, targetPath);
                fprintf('   âœ“ ç§»åŠ¨: %s -> docs/\n', doc);
            catch
                fprintf('   âš  è·³è¿‡: %s (å·²å­˜åœ¨æˆ–æ— æ³•ç§»åŠ¨)\n', doc);
            end
        end
    end
    
    % 3. åˆ›å»ºdocs/README.mdç´¢å¼•
    fprintf('\n3. åˆ›å»ºæ–‡æ¡£ç´¢å¼•...\n');
    readmePath = fullfile(docsDir, 'README.md');
    
    readmeContent = ['# é™¶ç“·ç¼ºé™·æ£€æµ‹ç³»ç»Ÿ - æ–‡æ¡£ä¸­å¿ƒ' newline newline ...
        '## ğŸ“š æ–‡æ¡£åˆ—è¡¨' newline newline ...
        '### ä¸»è¦æ–‡æ¡£' newline newline ...
        '- **[V3.0-R6_FINAL_GUIDE.md](V3.0-R6_FINAL_GUIDE.md)** - v3.0-R6æœ€ç»ˆä½¿ç”¨æŒ‡å—ï¼ˆæ¨èé˜…è¯»ï¼‰' newline ...
        '  - å¿«é€Ÿå¼€å§‹' newline ...
        '  - å‚æ•°è°ƒæ•´' newline ...
        '  - é«˜çº§ç”¨æ³•' newline ...
        '  - å¸¸è§é—®é¢˜' newline newline ...
        '### ç‰ˆæœ¬æ–‡æ¡£' newline newline ...
        'è¯¦ç»†çš„ç‰ˆæœ¬æ¼”è¿›å’ŒæŠ€æœ¯ç»†èŠ‚è¯·æŸ¥çœ‹:' newline ...
        '- `../versions/CHANGELOG.md` - å®Œæ•´ç‰ˆæœ¬å†å²' newline ...
        '- `../versions/v3.0_roi_detection/` - v3.0ç‰ˆæœ¬è¯¦ç»†æ–‡æ¡£' newline newline ...
        '### æŠ€æœ¯æ–‡æ¡£' newline newline ...
        'å†å²æŠ€æœ¯æ–‡æ¡£ï¼ˆå·²å½’æ¡£ï¼‰:' newline ...
        '- CRITICAL_FIXES.md' newline ...
        '- OPTIMIZATION_SUMMARY.md' newline ...
        '- PATH_FIX_SUMMARY.md' newline ...
        '- FINAL_DEDUPLICATION.md' newline newline ...
        '---' newline newline ...
        '## ğŸš€ å¿«é€Ÿå¼€å§‹' newline newline ...
        '### è¿è¡Œæ‰¹é‡æ£€æµ‹' newline newline ...
        '```matlab' newline ...
        'cd matlab' newline ...
        'matlab -batch "auto_run"' newline ...
        '```' newline newline ...
        '### ç”Ÿæˆå¯è§†åŒ–å›¾ç‰‡' newline newline ...
        '```matlab' newline ...
        'cd matlab' newline ...
        'matlab -batch "batch_visualize_results()"' newline ...
        '```' newline newline ...
        '### æŸ¥çœ‹ç»“æœ' newline newline ...
        '```matlab' newline ...
        'cd matlab' newline ...
        'matlab' newline ...
        '>> view_single_result(''defect_01'')' newline ...
        '```' newline newline ...
        '---' newline newline ...
        '## ğŸ“Š ç³»ç»Ÿç‰¹æ€§' newline newline ...
        '### v3.0-R6 æ ¸å¿ƒåŠŸèƒ½' newline newline ...
        '1. âœ… **ROIè‡ªåŠ¨æ£€æµ‹** - ç²¾ç¡®è¯†åˆ«é™¶ç“·ç®¡åŒºåŸŸ' newline ...
        '2. âœ… **ä¸è§„åˆ™ç¼ºé™·æ£€æµ‹** - å…¨é¢æ£€æµ‹æ‰€æœ‰ç±»å‹ç¼ºé™·' newline ...
        '3. âœ… **è‡ªåŠ¨åˆ†ç±»** - 4ç§ç¼ºé™·ç±»å‹ï¼ˆåœ†å½¢ã€çº¿çŠ¶ã€ç©ºå¿ƒã€ä¸è§„åˆ™ï¼‰' newline ...
        '4. âœ… **é«˜è´¨é‡å¯è§†åŒ–** - å½©è‰²æ ‡æ³¨ã€è¯¦ç»†ç»Ÿè®¡' newline ...
        '5. âœ… **æ‰¹é‡å¤„ç†** - å¿«é€Ÿå¤„ç†å¤šå¼ å›¾ç‰‡ï¼ˆ~30ç§’/å›¾ï¼‰' newline newline ...
        '### æ£€æµ‹ç»“æœ' newline newline ...
        '- **å¹³å‡ç¼ºé™·ç‡**: 1.76%ï¼ˆç›¸å¯¹ROIï¼‰' newline ...
        '- **å¹³å‡æ£€æµ‹æ•°**: 19.5ä¸ªç¼ºé™·/å›¾' newline ...
        '- **è´¨é‡è¯„åˆ†**: 56.5/100' newline ...
        '- **ROIè¦†ç›–ç‡**: 36.1%ï¼ˆç²¾ç¡®ç®¡å­åŒºåŸŸï¼‰' newline newline ...
        '---' newline newline ...
        '## ğŸ¨ å¯è§†åŒ–æ•ˆæœ' newline newline ...
        'æ¯å¼ æ£€æµ‹ç»“æœåŒ…å«6ä¸ªå­å›¾:' newline newline ...
        '1. åŸå§‹å›¾åƒ + ROIè¾¹ç•Œï¼ˆé’è‰²ï¼‰' newline ...
        '2. CLAHEå¢å¼ºå›¾' newline ...
        '3. ROIåŒºåŸŸå åŠ ' newline ...
        '4. ç¼ºé™·æ©ç ï¼ˆäºŒå€¼å›¾ï¼‰' newline ...
        '5. **ç¼ºé™·åˆ†ç±»æ ‡æ³¨**ï¼ˆå½©è‰²è¾¹ç•Œï¼‰' newline ...
        '   - ğŸŸ¢ ç»¿è‰²ï¼šåœ†å½¢å­”æ´' newline ...
        '   - ğŸ”´ çº¢è‰²ï¼šçº¿çŠ¶è£‚çº¹' newline ...
        '   - ğŸŸ¡ é»„è‰²ï¼šç©ºå¿ƒç¼ºé™·' newline ...
        '   - ğŸŸ£ æ´‹çº¢ï¼šä¸è§„åˆ™æ±¡æ¸' newline ...
        '6. ç»Ÿè®¡ä¿¡æ¯æ–‡æœ¬' newline newline ...
        '---' newline newline ...
        '## ğŸ“ æŠ€æœ¯æ”¯æŒ' newline newline ...
        'å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å‚è€ƒ:' newline ...
        '- ä½¿ç”¨æŒ‡å—: `V3.0-R6_FINAL_GUIDE.md`' newline ...
        '- ç‰ˆæœ¬å†å²: `../versions/CHANGELOG.md`' newline ...
        '- é¡¹ç›®ä¸»é¡µ: `../README.md`' newline newline ...
        '---' newline newline ...
        '**æœ€åæ›´æ–°**: 2025-10-04  ' newline ...
        '**å½“å‰ç‰ˆæœ¬**: v3.0-R6ï¼ˆç”Ÿäº§å°±ç»ªï¼‰' newline];
    
    fid = fopen(readmePath, 'w', 'n', 'UTF-8');
    if fid ~= -1
        fprintf(fid, '%s', readmeContent);
        fclose(fid);
        fprintf('   âœ“ åˆ›å»º: docs/README.md\n');
    else
        fprintf('   âœ— å¤±è´¥: æ— æ³•åˆ›å»º docs/README.md\n');
    end
    
    fprintf('\n===== æ•´ç†å®Œæˆ =====\n');
    fprintf('æ–‡æ¡£ä½ç½®: docs/\n');
    fprintf('ä¸»æ–‡æ¡£: docs/V3.0-R6_FINAL_GUIDE.md\n');
    fprintf('ç´¢å¼•: docs/README.md\n');
end

